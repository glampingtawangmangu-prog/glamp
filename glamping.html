<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katalog Glamping Tawangmangu</title>

    <!-- CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

    <style>
        html { scroll-behavior: smooth; }
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,.9);
            z-index: 100;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }
        .swiper { height: 260px; border-radius: 16px; }
        .swiper-slide img { width: 100%; height: 100%; object-fit: cover; }
        .sticky-header {
            position: sticky;
            top: 0;
            background: white;
            z-index: 50;
            border-bottom: 1px solid #eee;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800">

<!-- HEADER -->

    
<header class="bg-green-700 text-white py-10 text-center">
    <a href="index.html"
   style="
     display: inline-block;
     background-color: #16a34a;
     color: #ffffff;
     padding: 16px 40px;
     border-radius: 9999px;
     font-weight: 900;
     text-transform: uppercase;
     letter-spacing: 0.15em;
     text-decoration: none;
     box-shadow: 0 10px 20px rgba(0,0,0,0.25);
     transition: background-color 0.3s ease, transform 0.3s ease;
     text-align: left;
   "
   onmouseover="this.style.backgroundColor='#15803d'; this.style.transform='scale(1.05)'"
   onmouseout="this.style.backgroundColor='#16a34a'; this.style.transform='scale(1)'"
>
   Beranda
</a>

    <h1 class="text-3xl font-black uppercase">Katalog Glamping</h1>
    <p class="opacity-80">Tawangmangu ‚Äì Jawa Tengah</p>
</header>

<!-- SEARCH -->
<div class="sticky-header py-4 shadow-sm">
    <div class="container mx-auto px-4">
        <input id="searchInput" type="text"
            placeholder="Cari nama unit / fasilitas (wifi, private pool...)"
            class="w-full max-w-md px-5 py-2 rounded-full border focus:ring-2 focus:ring-green-500 outline-none">
    </div>
</div>

<!-- GRID -->
<main class="container mx-auto px-4 py-10">
    <div id="glampingGrid"
         class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
    </div>
</main>

<!-- MODAL -->
<div id="detailModal" class="modal" role="dialog" aria-modal="true">
    <div class="bg-white rounded-3xl max-w-lg w-full p-6 relative shadow-2xl">
        <button onclick="closePopup()"
            class="absolute top-4 right-4 text-3xl text-gray-400 hover:text-black">
            &times;
        </button>

        <div class="swiper mySwiper mb-4">
            <div class="swiper-wrapper" id="modalSlider"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>

        <h2 id="modalTitle" class="text-xl font-bold text-green-700 uppercase"></h2>
        <p id="modalPrice" class="text-lg font-black mb-2"></p>

        <div id="modalHargaHari"
             class="flex justify-between text-xs font-bold bg-green-50 p-3 rounded-lg mb-4">
        </div>

        <div class="bg-gray-50 p-4 rounded-2xl mb-6">
            <h3 class="text-[10px] font-black text-gray-400 uppercase mb-2">
                Fasilitas
            </h3>
            <div id="modalFasilitas"
                 class="grid grid-cols-2 gap-1 text-sm text-gray-600"></div>
        </div>

        <a id="modalWA"
           class="block bg-green-600 text-white text-center py-3 rounded-xl font-bold hover:bg-green-700">
            <i class="fab fa-whatsapp mr-2"></i>BOOKING VIA WHATSAPP
        </a>
    </div>
</div>

<!-- SCRIPT -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
/* ================= DATA ================= */
const daftarGlamping = [
    {
        id: 1,
        nama: "Glamping Deluxe A1",
        harga: 500000,
        fasilitas: [
            "Parkir luas",
            "Kopi shop",
            "Halaman rumput",
            "Kursi santai",
            "Tenda & Free grill",
            "Smart TV & Wifi",
            "Netflix & Welcome drink",
            "Bed & Air hangat",
            "Pengering rambut",
            "Dapur mini",
            "üèä Privat pool"
        ],
        foto: [
            "https://images.unsplash.com/photo-1493246507139-91e8bef99c02?w=800",
            "https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?w=800",
            "https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=800"
        ],
        hargaHari: {
            minggu_kamis: 500,
            jumat: 600,
            sabtu: 800
        },
        whatsapp: "62895415842299"
    },
    {
        id: 2,
        nama: "Glamping Family A2",
        harga: 650000,
        fasilitas: [
            "2 Bed Queen",
            "View gunung",
            "Air hangat",
            "Wifi",
            "Dapur mini"
        ],
        foto: [
            "https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?w=800"
        ],
        hargaHari: {
            minggu_kamis: 650,
            jumat: 750,
            sabtu: 900
        },
        whatsapp: "62895415842299"
    },
    
    {
        id: 1,
        nama: "Glamping Deluxe A1",
        harga: 500000,
        fasilitas: [
            "Parkir luas",
            "Kopi shop",
            "Halaman rumput",
            "Kursi santai",
            "Tenda & Free grill",
            "Smart TV & Wifi",
            "Netflix & Welcome drink",
            "Bed & Air hangat",
            "Pengering rambut",
            "Dapur mini",
            "üèä Privat pool"
        ],
        foto: [
            "https://images.unsplash.com/photo-1493246507139-91e8bef99c02?w=800",
            "https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?w=800",
            "https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=800"
        ],
        hargaHari: {
            minggu_kamis: 500,
            jumat: 600,
            sabtu: 800
        },
        whatsapp: "62895415842299"
    },
    {
        id: 1,
        nama: "Glamping Deluxe A1",
        harga: 500000,
        fasilitas: [
            "Parkir luas",
            "Kopi shop",
            "Halaman rumput",
            "Kursi santai",
            "Tenda & Free grill",
            "Smart TV & Wifi",
            "Netflix & Welcome drink",
            "Bed & Air hangat",
            "Pengering rambut",
            "Dapur mini",
            "üèä Privat pool"
        ],
        foto: [
            "https://images.unsplash.com/photo-1493246507139-91e8bef99c02?w=800",
            "https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?w=800",
            "https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=800"
        ],
        hargaHari: {
            minggu_kamis: 500,
            jumat: 600,
            sabtu: 800
        },
        whatsapp: "62895415842299"
    }
    
];

/* ================= GRID ================= */
const grid = document.getElementById("glampingGrid");

function renderKatalog(data) {
    grid.innerHTML = "";
    if (data.length === 0) {
        grid.innerHTML = `
            <p class="col-span-full text-center text-gray-400">
                Tidak ada unit yang cocok
            </p>`;
        return;
    }
    data.forEach(item => {
        grid.innerHTML += `
            <div onclick="openPopup(${item.id})"
                class="bg-white rounded-2xl border shadow-sm p-3 cursor-pointer hover:shadow-md transition">
                <img src="${item.foto[0]}"
                     class="h-40 w-full object-cover rounded-xl mb-3">
                <h4 class="text-xs font-bold uppercase">${item.nama}</h4>
                <p class="text-green-600 font-black text-sm">
                    Rp ${item.harga.toLocaleString("id-ID")}
                </p>
            </div>
        `;
    });
}

/* ================= MODAL ================= */
let swiper;

function openPopup(id) {
    const item = daftarGlamping.find(i => i.id === id);
    if (!item) return;

    document.getElementById("modalTitle").innerText = item.nama;
    document.getElementById("modalPrice").innerText =
        "Rp " + item.harga.toLocaleString("id-ID") + " / malam";

    document.getElementById("modalHargaHari").innerHTML = `
        <span>MING‚ÄìKAM: ${item.hargaHari.minggu_kamis}K</span>
        <span>JUMAT: ${item.hargaHari.jumat}K</span>
        <span>SABTU: ${item.hargaHari.sabtu}K</span>
    `;

    document.getElementById("modalFasilitas").innerHTML =
        item.fasilitas.map(f => `<p>‚úÖ ${f}</p>`).join("");

    document.getElementById("modalWA").href =
        `https://wa.me/${item.whatsapp}?text=Halo, saya ingin booking ${encodeURIComponent(item.nama)}`;

    const slider = document.getElementById("modalSlider");
    slider.innerHTML = "";
    item.foto.forEach(img => {
        slider.innerHTML += `<div class="swiper-slide"><img src="${img}"></div>`;
    });

    document.getElementById("detailModal").style.display = "flex";
    document.body.style.overflow = "hidden";

    swiper = new Swiper(".mySwiper", {
        navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" }
    });
}

function closePopup() {
    document.getElementById("detailModal").style.display = "none";
    document.body.style.overflow = "auto";
}

/* ================= SEARCH (NAMA + FASILITAS) ================= */
document.getElementById("searchInput").addEventListener("keyup", function () {
    const keyword = this.value.toLowerCase().trim();

    const filtered = daftarGlamping.filter(item => {
        const matchNama = item.nama.toLowerCase().includes(keyword);
        const matchFasilitas = item.fasilitas.some(f =>
            f.toLowerCase().includes(keyword)
        );
        return matchNama || matchFasilitas;
    });

    renderKatalog(filtered);
});

/* INIT */
renderKatalog(daftarGlamping);
</script>

</body>
</html>
